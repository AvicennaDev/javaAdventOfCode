https://adventofcode.com/2018/day/5

 День 5: Алхимическое восстановление ---
Вам удалось проникнуть в лабораторию по производству прототипов костюмов.
Эльфы добились приличного прогресса, но все еще борются с возможностями уменьшения размера костюма.

Хотя новейшие алхимические технологии 1518 года могли бы в конечном итоге
решить их проблему, вы можете добиться большего. Вы сканируете химический
состав материала костюма и обнаруживаете, что он состоит из чрезвычайно длинных
полимеров (один из которых доступен в качестве входных данных для головоломки).

Полимер состоит из более мелких звеньев , которые при срабатывании реагируют
друг с другом так, что разрушаются два соседних звена одного типа и противоположной
полярности. Типы юнитов обозначаются буквами; полярность единиц обозначается заглавными
буквами. Например, rи R— это единицы одного типа, но противоположной полярности,
тогда как rи — sэто совершенно разные типы и не реагируют.

Например:

В aA, aи Aреагировать, ничего не оставляя после себя.
В abBA, bBуничтожает себя, уходя aA. Как и выше, затем он уничтожает себя, не оставляя ничего.
В системе abABнет двух соседних единиц одного типа, поэтому ничего не происходит.
В aabAAB, хотя aaи AAодного типа, их полярности совпадают, и поэтому ничего не происходит.
Теперь рассмотрим более крупный пример dabAcCaCBAcCcaDA:

dabAcCaCBAcCcaDA  The first 'cC' is removed.
dabAaCBAcCcaDA    This creates 'Aa', which is removed.
dabCBAcCcaDA      Either 'cC' or 'Cc' are removed (the result is the same).
dabCBAcaDA        No further actions can be taken.
После всех возможных реакций полученный полимер содержит 10 звеньев .

Сколько единиц останется после полной реакции отсканированного вами полимера?
(Примечание: в этой и других головоломках ввод большой; если вы копируете/вставляете
введенные данные, убедитесь, что вы получили все целиком.)

ответ 10766.

--- Часть вторая ---
Пришло время улучшить полимер.

Один из типов юнитов вызывает проблемы; это предотвращает разрушение
полимера настолько, насколько это необходимо. Ваша цель — выяснить,
какой тип единицы вызывает больше всего проблем, удалить все его экземпляры
(независимо от полярности), полностью прореагировать с оставшимся полимером и измерить его длину.

Например, снова используя полимер, dabAcCaCBAcCcaDAпоказанный выше:

Удаление всех A/ aединиц приводит к появлению dbcCCBcCcD. Полная реакция этого полимера дает dbCBcD, длина которого равна 6.
Удаление всех B/ bединиц приводит к появлению daAcCaCAcCcaDA. Полная реакция этого полимера дает daCAcaDA, длина которого равна 8.
Удаление всех C/ cединиц приводит к появлению dabAaBAaDA. Полная реакция этого полимера дает daDA, длина которого равна 4.
Удаление всех D/ dединиц приводит к появлению abAcCaCBAcCcaA. Полная реакция этого полимера дает abCBAc, длина которого равна 6.
В этом примере лучше всего было удалить все C/ cединицы, что дало ответ 4 .

Какова длина самого короткого полимера, который можно получить , удалив все звенья ровно одного типа и полностью прореагировав полученный результат?

ответ 6538.