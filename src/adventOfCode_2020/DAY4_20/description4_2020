https://adventofcode.com/2020/day/4

--- День 4: Оформление паспорта ---
Вы прибываете в аэропорт только для того, чтобы понять, что вместо паспорта вы взяли удостоверения Северного полюса. Хотя эти документы очень похожи, удостоверения Северного полюса не выдаются страной и, следовательно, на самом деле не являются действительным документом для путешествий в большинстве стран мира.

Однако, похоже, проблемы есть не только у вас; К автоматическим сканерам паспортов образовалась очень длинная очередь, и задержка может нарушить маршрут вашего путешествия.

Из-за некоторой сомнительной безопасности сети вы понимаете, что можете решить обе эти проблемы одновременно.

Автоматические сканеры паспортов работают медленно, поскольку им сложно определить, в каких паспортах есть все обязательные поля . Ожидаемые поля следующие:

byr(Год рождения)
iyr(Год выпуска)
eyr(Год истечения срока действия)
hgt(Высота)
hcl(Цвет волос)
ecl(Цвет глаз)
pid(Номер паспорта)
cid(идентификатор страны)
Паспортные данные проверяются в пакетных файлах (ваш ввод в головоломке). Каждый паспорт представлен как последовательность key:valueпар, разделенных пробелами или символами новой строки. Паспорта разделяются пустыми строками.

Вот пример командного файла, содержащего четыре паспорта:

ecl:gry pid:860033327 eyr:2020 hcl:#fffffd
byr:1937 iyr:2017 cid:147 hgt:183cm

iyr:2013 ecl:amb cid:350 eyr:2023 pid:028048884
hcl:#cfa07d byr:1929

hcl:#ae17e1 iyr:2013
eyr:2024
ecl:brn pid:760753108 byr:1931
hgt:179cm

hcl:#cfa07d eyr:2025 pid:166559648
iyr:2011 ecl:brn hgt:59in
Первый паспорт действителен – присутствуют все восемь полей. Второй паспорт недействителен
 – он отсутствует hgt(поле «Рост»).

Третий паспорт интересен; единственное недостающее поле — cid,
 так что оно похоже на данные из учетных данных Северного полюса,
  а вовсе не паспорта! Наверняка никто не будет возражать,
   если вы заставите систему временно игнорировать пропущенные cidполя.
    Считайте этот «паспорт» действительным .

В четвертом паспорте отсутствуют два поля cidи byr. Отсутствие cidдопустимо,
 но отсутствие любого другого поля — нет, поэтому этот паспорт недействителен .

В соответствии с вышеуказанными правилами ваша улучшенная система будет сообщать
 о 2действительных паспортах.

Подсчитайте количество действительных паспортов – тех, в которых есть все
обязательные поля. Рассматривайте cidкак необязательное.
В вашем батнике сколько паспортов действительны?

Часть 1

Ответ 206
Часть 2

--- Часть вторая ---
Очередь теперь движется быстрее, но вы слышите, как служба безопасности аэропорта
говорит о том, как проходят паспорта с недействительными данными. Лучше добавьте немного проверки данных, быстро!

Вы можете продолжать игнорировать это cidполе, но каждое другое поле имеет
строгие правила относительно того, какие значения действительны для автоматической проверки:

byr(Год рождения) – четыре цифры; минимум 1920и максимум 2002.
iyr(Год выпуска) – четыре цифры; минимум 2010и максимум 2020.
eyr(Год окончания срока действия) – четыре цифры; минимум 2020и максимум 2030.
hgt(Высота) – число, за которым следует либо cmили in:
Если cm, число должно быть не менее 150и не более 193.
Если in, число должно быть не менее 59и не более 76.
hcl(Цвет волос) – a, #за которым следуют ровно шесть символов 0– 9или a– f.
ecl(Цвет глаз) – ровно один из: amb blu brn gry grn hzl oth.
pid(ID паспорта) – девятизначное число, включая лидирующие нули.
cid(ID страны) - игнорируется, отсутствует или нет.
Ваша задача — подсчитать паспорта, в которых все обязательные поля присутствуют
 и действительны в соответствии с вышеуказанными правилами. Вот несколько примеров значений:

byr valid:   2002
byr invalid: 2003

hgt valid:   60in
hgt valid:   190cm
hgt invalid: 190in
hgt invalid: 190

hcl valid:   #123abc
hcl invalid: #123abz
hcl invalid: 123abc

ecl valid:   brn
ecl invalid: wat

pid valid:   000000001
pid invalid: 0123456789
Вот некоторые недействительные паспорта:

eyr:1972 cid:100
hcl:#18171d ecl:amb hgt:170 pid:186cm iyr:2018 byr:1926

iyr:2019
hcl:#602927 eyr:1967 hgt:170cm
ecl:grn pid:012533040 byr:1946

hcl:dab227 iyr:2012
ecl:brn hgt:182cm pid:021572410 eyr:2020 byr:1992 cid:277

hgt:59cm ecl:zzz
eyr:2038 hcl:74454a iyr:2023
pid:3556412378 byr:2007
Вот несколько действительных паспортов:

pid:087499704 hgt:74in ecl:grn iyr:2012 eyr:2030 byr:1980
hcl:#623a2f

eyr:2029 ecl:blu cid:129 byr:1989
iyr:2014 pid:896056539 hcl:#a97842 hgt:165cm

hcl:#888785
hgt:164cm byr:2001 iyr:2015 cid:88
pid:545766238 ecl:hzl
eyr:2022

iyr:2010 hgt:158cm hcl:#b6652a ecl:blu byr:1944 eyr:2021 pid:093154719
Подсчитайте количество действительных паспортов — тех, в которых есть все обязательные
 поля и действительные значения .
 Продолжайте рассматривать cidкак необязательный. В вашем батнике сколько паспортов действительны?
